<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        /*
            연속 부분수열2
            1. n개로 이루어진 수열과 key 값을 입력받습니다. 
            2. 배열 내 정보를 연속으로 이어진 부분수열의 합이 key값보다 작은 경우를 모두 찾아 출력합니다. 

            해결
            1. 각 인덱스를 순회하며 key값에서 선정한 인덱스 값을 뺀 초기값을 설정한다.
            2. 초기값이 key값보다 큰지 확인하며 인덱스 값을 증가시키며 경우를 계산합니다. 
        */
        function solution(num, arr) {
            let answer = 0;
            let n = arr.length;
            for(let i=0; i<n; i++) {
                let sum = arr[i];
                //console.log("초기값 : "+ sum);
                //console.log(answer);
                if(num > sum) {
                    answer++;
                    //console.log(answer);
                    for(let j=i+1; j<n; j++) {
                        sum += arr[j];
                        //console.log("중간 : "+ sum);
                        if(num >= sum) {
                            answer++;
                            //console.log(answer);
                        }
                    }
                }  
            }
        
            return answer;
        }
        /*
            해결 방법
            1. rt,lt값을 이용해 배열 조회
            2. rt 값을 증가시키며 해당하는 인덱스 정보를 sum에 저장합니다. 
            3. 이때 sum의 값이 key값보다 큰지 확인합니다. 
            만약 sum 값이 key 값보다 큰 경우, lt값에 해당하는 인덱스를 sum에서 빼고 lt 인덱스를 증가시킵니다. 
            그리고 다시 sum 값과 비교 후 진행합니다. 
            만약 sum 값이 key 값보다 작다면, arr[rt]가 포함된 경우의 수를 answer에 저장하면 이때 계산식은
            rt-lt+1이 됩니다. 
        */
        function solution2(m, arr){
            let answer=0, sum=0, lt=0;
            for(let rt=0; rt<arr.length; rt++){
                sum+=arr[rt];
                while(sum>m){                        
                    sum-=arr[lt++];
                }
                answer+=(rt-lt+1);
            }               
            return answer;
        }
        let a=[1, 3, 1, 2, 3];
        console.log(solution2(5, a));
    </script>
</body>
</html>