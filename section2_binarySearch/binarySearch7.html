<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        /*
            봉우리
            1. 2차원 배열을 입력 받아
            2. 상하좌우 숫자보다 더 큰 숫자를 봉우리로 계산합니다. 
            3. 입력 받은 배열의 봉우리의 갯수를 출력합니다. 
            4. 이때 격자의 가장자리는 0으로 초기화 합니다. 

            해결
            1. 각 가장 자리를 0으로 채웁니다. 
            2. 봉우리를 계산하기 위해 상하좌우 그리고 가운데 값 중 가장 큰 값이
            가운데 값과 같은 경우를 카운트합니다. 
        */
        function solution(arr) {
            // let answer = Array.from(Array(arr.length+2), () => Array(arr.length+2).fill(0));
            // let count=0
            // let n = answer.length-1;
            // let max = 0;

            // for(let i=1; i<n; i++) {
            //     for(let j=1; j<n; j++) {
            //         answer[i][j] = arr[i-1][j-1];
            //     }
            // }
            // //console.log(answer);
            // for(let i = 1 ; i < n ; i++) {
            //     for(let j = 1 ; j < n ; j++) {
            //         max = Math.max(answer[i][j], answer[i+1][j], answer[i][j+1], answer[i][j-1], answer[i-1][j]);
            //         //console.log(max);
            //         if(answer[i][j] === max) {
            //             count++;
            //             max=0;
            //         }
            //         max=0;
            //     }
            // }
            // return count;

            //다른 방법
            // 새로운 배열을 만들지 않고 진행
            // 4방향 탐색 문제는 아래의 알고리즘을 사용한다. 
            // dx, dy 배열을 선언한 후 i,j에 더한다. 
            
            let answer=0;
            let n=arr.length;
            let dx=[-1, 0, 1, 0];
            let dy=[0, 1, 0, -1];

            for(let i=0; i<n; i++) {
                for(let j=0; j<n; j++) {
                    let flag=1;
                    for(let k=0; k<4; k++) {
                        let nx = i+dx[k];
                        let ny = j+dy[k];
                        if(nx>=0 && nx<n && ny>=0 && ny<n && arr[nx][ny]>=arr[i][j]) {
                            flag=0;
                            break;
                        }
                    }
                    if(flag) answer++;
                }
            }
            return answer;

        }
        let arr=[[5, 3, 7, 2, 3], 
                 [3, 7, 1, 6, 1],
                 [7, 2, 5, 3, 4],
                 [4, 3, 6, 4, 1],
                 [8, 7, 3, 5, 2]];
        console.log(solution(arr));
    </script>
</body>
</html>